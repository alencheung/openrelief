(()=>{var e={};e.id=734,e.ids=[734],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},1757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>f,tree:()=>c});var n=s(260),a=s(8203),r=s(5155),l=s.n(r),i=s(7292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["offline",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1529)),"C:\\Users\\alen_\\SynologyDrive\\SourceCode\\openrelief\\src\\app\\offline\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"C:\\Users\\alen_\\SynologyDrive\\SourceCode\\openrelief\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\alen_\\SynologyDrive\\SourceCode\\openrelief\\src\\app\\offline\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/offline/page",pathname:"/offline",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},833:(e,t,s)=>{Promise.resolve().then(s.bind(s,3935))},7281:(e,t,s)=>{Promise.resolve().then(s.bind(s,419))},3100:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(3258).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3522:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(3258).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2557:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(3258).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},419:(e,t,s)=>{"use strict";s.d(t,{OfflineFallback:()=>f});var n=s(5512),a=s(8009),r=s(5484),l=s(7272),i=s(8542),o=s(3100),c=s(3522),d=s(8996),p=s(2557);function f(){let{isOnline:e,reconnectAttempts:t}=(0,r.M)(),[s,f]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),h=async()=>{f(!0);try{(await fetch("/api/health",{cache:"no-cache",signal:AbortSignal.timeout(5e3)})).ok&&window.location.reload()}catch(e){console.error("Retry failed:",e)}finally{f(!1)}},u=[{title:"Report Emergency",description:"File an emergency report (will sync when online)",icon:o.A,action:()=>window.location.href="/report",available:!0},{title:"View Offline Map",description:"Access cached map data and locations",icon:c.A,action:()=>window.location.href="/offline/map",available:!0},{title:"Emergency Contacts",description:"View cached emergency contact information",icon:c.A,action:()=>window.location.href="/offline/contacts",available:!0}];return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-6",children:[(0,n.jsxs)(i.Zp,{className:"p-6 text-center",children:[(0,n.jsx)("div",{className:"flex justify-center mb-4",children:(0,n.jsx)("div",{className:`p-3 rounded-full ${e?"bg-green-100":"bg-red-100"}`,children:e?(0,n.jsx)(c.A,{className:"h-8 w-8 text-green-600"}):(0,n.jsx)(d.A,{className:"h-8 w-8 text-red-600"})})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e?"Connection Restored":"You're Offline"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4",children:e?"Your connection has been restored. You can continue using OpenRelief.":"OpenRelief is working offline. Emergency features remain available."}),!e&&(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(l.$,{onClick:h,disabled:s,className:"w-full",variant:"outline",children:s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Checking Connection..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})}),t>0&&(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Reconnect attempts: ",t]})]})]}),(0,n.jsxs)(i.Zp,{className:"p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Emergency Actions Available Offline"}),(0,n.jsx)("div",{className:"space-y-3",children:u.map((e,t)=>(0,n.jsxs)(l.$,{onClick:e.action,variant:"ghost",className:"w-full justify-start h-auto p-3",disabled:!e.available,children:[(0,n.jsx)(e.icon,{className:"h-5 w-5 mr-3 flex-shrink-0"}),(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("div",{className:"font-medium",children:e.title}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]},t))})]}),(0,n.jsx)(i.Zp,{className:"p-4 bg-blue-50 border-blue-200",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)(o.A,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,n.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,n.jsx)("p",{className:"font-medium mb-1",children:"Offline Mode Active"}),(0,n.jsx)("p",{className:"text-blue-700",children:"OpenRelief continues to work offline for 24+ hours. Your emergency reports and actions will be synced automatically when you reconnect."}),m&&(0,n.jsxs)("p",{className:"text-blue-600 mt-2 text-xs",children:["Last sync: ",m.toLocaleString()]})]})]})}),(0,n.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,n.jsx)("p",{children:"OpenRelief Emergency Platform v2.0.0"}),(0,n.jsx)("p",{children:"Offline-capable PWA"})]})]})})}},1529:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>r});var n=s(2740),a=s(3935);let r={title:"Offline - OpenRelief",description:"OpenRelief emergency coordination platform - Offline mode",robots:"noindex, nofollow"};function l(){return(0,n.jsx)(a.OfflineFallback,{})}},3935:(e,t,s)=>{"use strict";s.d(t,{OfflineFallback:()=>n});let n=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call OfflineFallback() from the server but OfflineFallback is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\alen_\\SynologyDrive\\SourceCode\\openrelief\\src\\components\\pwa\\OfflineFallback.tsx","OfflineFallback")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[677,446],()=>s(1757));module.exports=n})();